apiVersion: v1
kind: List
items:
  - apiVersion: v1
    kind: ResourceQuota
    metadata:
      namespace: {{.Values.global.namespace}}
      name: pods-high
      labels:
        {{- include "state-repository.labels" . | nindent 8 }}
    spec:
      hard:
        cpu: "1000"
        memory: 200Gi
        pods: "10"
      scopeSelector:
        matchExpressions:
          - operator : In
            scopeName: PriorityClass
            values: ["high"]
  - apiVersion: v1
    kind: ResourceQuota
    metadata:
      namespace: {{.Values.global.namespace}}
      name: pods-medium
      labels:
        {{- include "state-repository.labels" . | nindent 8 }}
    spec:
      hard:
        cpu: "10"
        memory: 20Gi
        pods: "10"
      scopeSelector:
        matchExpressions:
          - operator : In
            scopeName: PriorityClass
            values: ["medium"]
  - apiVersion: v1
    kind: ResourceQuota
    metadata:
      namespace: {{.Values.global.namespace}}
      name: pods-low
      labels:
        {{- include "state-repository.labels" . | nindent 8 }}
    spec:
      hard:
        cpu: "5"
        memory: 10Gi
        pods: "10"
      scopeSelector:
        matchExpressions:
          - operator : In
            scopeName: PriorityClass
            values: ["low"]
